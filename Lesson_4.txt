mysql> SHOW TABLES;
+---------------------+
| Tables_in_vk        |
+---------------------+
| city                |
| communitie_users    |
| communities         |
| country             |
| country_city        |
| friendship          |
| friendship_statuses |
| gender              |
| likes               |
| media               |
| media_types         |
| messages            |
| profiles            |
| status              |
| users               |
| users_media         |
+---------------------+
16 rows in set (0,00 sec)

mysql> SELECT * FROM users LIMIT 10;
+----+------------------------------------------+------------+-----------+----------------------------+---------------------+---------------------+---------------------+
| id | password                                 | first_name | last_name | email                      | phone               | created_at          | updated_at          |
+----+------------------------------------------+------------+-----------+----------------------------+---------------------+---------------------+---------------------+
|  1 | 8a60c0ac929c9139dcc7c98ca2a9b3c93d5eedb3 | Lauren     | Keeling   | cheller@example.com        | (652)363-1803       | 1972-07-03 05:08:39 | 2006-11-12 00:30:22 |
|  2 | 204b500a4d261846af993bb5f7c335e3ae992e28 | Frederique | Greenholt | gschuster@example.net      | (170)478-1130       | 1984-11-26 02:35:54 | 1994-04-25 06:41:29 |
|  3 | fcb261295c618a300ce48aaefe8b87f0f508f1ad | Elwyn      | Bernier   | savanah.o'hara@example.net | 1-314-566-7351x954  | 1978-01-04 19:48:09 | 1981-09-24 02:03:16 |
|  4 | a92cec8a47ff45706cd91c9b05214f53b91e5e03 | Joanny     | Nikolaus  | bogisich.alice@example.com | 698-605-4305x4280   | 1999-09-21 02:30:24 | 1994-10-21 13:49:56 |
|  5 | 4784e5dd54606682a165918b2e709fff11f0ab12 | Margaretta | Daniel    | spredovic@example.org      | (907)272-2913       | 1975-02-13 21:23:50 | 1996-07-29 10:26:17 |
|  6 | 45d5512a2aae6a0aa4da863eeb7fc44c2b570d16 | Melvina    | Hermiston | fisher.darius@example.com  | 1-224-851-2956x9055 | 1982-08-02 16:36:59 | 1990-09-12 06:22:07 |
|  7 | bb127d3b839b5ef66b7da5d010a2e23db125e7ce | Davion     | Herman    | xklein@example.org         | (089)337-5429       | 1991-03-21 23:19:24 | 1975-07-11 16:59:31 |
|  8 | 86868eabb5d2f3aed7b02d0608da96ba990635bb | Jake       | Bins      | xjacobson@example.com      | 05739362488         | 1993-08-23 06:28:25 | 2005-04-12 01:57:48 |
|  9 | b4e2744e0a868c2748e75aade4457dfb381d2012 | Turner     | Friesen   | milford16@example.net      | 200.043.0892x34772  | 1995-02-23 08:30:51 | 2012-03-07 12:48:01 |
| 10 | 4c638585011c463175c47751530581ec70ec271e | Casimer    | Schaden   | gwendolyn00@example.net    | 1-338-543-9688      | 2001-07-13 01:48:47 | 1985-07-21 15:09:04 |
+----+------------------------------------------+------------+-----------+----------------------------+---------------------+---------------------+---------------------+
10 rows in set (0,00 sec)

mysql> DESC users;
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
| Field      | Type         | Null | Key | Default           | Extra                                         |
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
| id         | bigint       | NO   | PRI | NULL              |                                               |
| password   | varchar(100) | NO   |     | NULL              |                                               |
| first_name | varchar(100) | NO   |     | NULL              |                                               |
| last_name  | varchar(100) | NO   |     | NULL              |                                               |
| email      | varchar(100) | NO   | UNI | NULL              |                                               |
| phone      | varchar(20)  | YES  | UNI | NULL              |                                               |
| created_at | datetime     | NO   |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED                             |
| updated_at | datetime     | YES  |     | CURRENT_TIMESTAMP | DEFAULT_GENERATED on update CURRENT_TIMESTAMP |
+------------+--------------+------+-----+-------------------+-----------------------------------------------+
8 rows in set (0,00 sec)

mysql> UPDATE users SET updated_at = NOW() WHERE updated_at < created_at;
Query OK, 40 rows affected (0,02 sec)
Rows matched: 40  Changed: 40  Warnings: 0

mysql> SELECT * FROM gender;
+----+---------+---------------------+
| id | name    | created_at          |
+----+---------+---------------------+
|  1 | et      | 1976-06-29 05:28:41 |
|  2 | eius    | 1989-08-01 13:39:13 |
|  3 | aliquam | 1974-08-09 07:34:02 |
+----+---------+---------------------+
3 rows in set (0,00 sec)

mysql> SELECT * FROM gender;
+----+---------+---------------------+
| id | name    | created_at          |
+----+---------+---------------------+
|  1 | et      | 1976-06-29 05:28:41 |
|  2 | eius    | 1989-08-01 13:39:13 |
|  3 | aliquam | 1974-08-09 07:34:02 |
+----+---------+---------------------+
3 rows in set (0,00 sec)

mysql> UPDATE gender SET name = 'f' WHERE id = '1';
Query OK, 1 row affected (0,01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE gender SET name = 'm' WHERE id = '2';
Query OK, 1 row affected (0,02 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE gender SET name = 'None' WHERE id = '3';
Query OK, 1 row affected (0,01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> SELECT * FROM gender;
+----+------+---------------------+
| id | name | created_at          |
+----+------+---------------------+
|  1 | f    | 1976-06-29 05:28:41 |
|  2 | m    | 1989-08-01 13:39:13 |
|  3 | None | 1974-08-09 07:34:02 |
+----+------+---------------------+
3 rows in set (0,00 sec)

mysql> SELECT * FROM status;
+----+-------------+---------------------+
| id | name        | created_at          |
+----+-------------+---------------------+
|  1 | consequatur | 2007-10-15 11:25:11 |
|  2 | non         | 1985-09-15 03:03:23 |
|  3 | aperiam     | 2012-08-29 10:25:43 |
|  4 | repudiandae | 2007-01-29 21:25:43 |
|  5 | quasi       | 1981-01-23 06:24:12 |
+----+-------------+---------------------+
5 rows in set (0,00 sec)

mysql> UPDATE status SET name = 'single' WHERE id = '1';
Query OK, 1 row affected (0,01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE status SET name = 'married' WHERE id = '2';
Query OK, 1 row affected (0,01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE status SET name = 'active' WHERE id = '3';
Query OK, 1 row affected (0,00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE status SET name = 'complicated' WHERE id = '4';
Query OK, 1 row affected (0,01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE status SET name = 'None' WHERE id = '5';
Query OK, 1 row affected (0,02 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> SELECT * FROM status;
+----+-------------+---------------------+
| id | name        | created_at          |
+----+-------------+---------------------+
|  1 | single      | 2007-10-15 11:25:11 |
|  2 | married     | 1985-09-15 03:03:23 |
|  3 | active      | 2012-08-29 10:25:43 |
|  4 | complicated | 2007-01-29 21:25:43 |
|  5 | None        | 1981-01-23 06:24:12 |
+----+-------------+---------------------+
5 rows in set (0,00 sec)

mysql> SELECT * FROM profiles LIMIT 10;
+---------+-----------+------------+-----------+---------+------------+---------------------+
| user_id | gender_id | birthday   | status_id | city_id | country_id | updated_at          |
+---------+-----------+------------+-----------+---------+------------+---------------------+
|       1 |         1 | 1983-05-08 |         1 |       1 |          1 | 1999-02-08 14:39:25 |
|       2 |         2 | 2012-11-04 |         2 |       2 |          2 | 1993-01-28 20:56:44 |
|       3 |         3 | 1990-11-16 |         3 |       3 |          3 | 1980-12-10 07:18:02 |
|       4 |         1 | 1996-01-12 |         4 |       4 |          4 | 1976-11-25 06:43:55 |
|       5 |         2 | 1975-04-21 |         5 |       5 |          5 | 1978-07-31 02:44:29 |
|       6 |         3 | 2020-12-09 |         1 |       6 |          6 | 2011-03-12 06:57:14 |
|       7 |         1 | 1999-03-27 |         2 |       7 |          7 | 1989-04-16 10:58:15 |
|       8 |         2 | 1971-02-04 |         3 |       8 |          8 | 2011-03-14 07:21:28 |
|       9 |         3 | 1972-12-18 |         4 |       9 |          9 | 1988-06-11 15:52:52 |
|      10 |         1 | 1985-06-10 |         5 |      10 |         10 | 1973-11-21 06:54:36 |
+---------+-----------+------------+-----------+---------+------------+---------------------+
10 rows in set (0,00 sec)

mysql> ALTER TABLE profiles ADD COLUMN photo_id BIGINT UNSIGNED;
Query OK, 0 rows affected (0,02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> UPDATE profiles SET photo_id = FLOOR(1 + RAND() * 100);
Query OK, 100 rows affected (0,00 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> SELECT * FROM profiles LIMIT 10;
+---------+-----------+------------+-----------+---------+------------+---------------------+----------+
| user_id | gender_id | birthday   | status_id | city_id | country_id | updated_at          | photo_id |
+---------+-----------+------------+-----------+---------+------------+---------------------+----------+
|       1 |         1 | 1983-05-08 |         1 |       1 |          1 | 2021-06-21 22:02:46 |       43 |
|       2 |         2 | 2012-11-04 |         2 |       2 |          2 | 2021-06-21 22:02:46 |       95 |
|       3 |         3 | 1990-11-16 |         3 |       3 |          3 | 2021-06-21 22:02:46 |       43 |
|       4 |         1 | 1996-01-12 |         4 |       4 |          4 | 2021-06-21 22:02:46 |       32 |
|       5 |         2 | 1975-04-21 |         5 |       5 |          5 | 2021-06-21 22:02:46 |       30 |
|       6 |         3 | 2020-12-09 |         1 |       6 |          6 | 2021-06-21 22:02:46 |       51 |
|       7 |         1 | 1999-03-27 |         2 |       7 |          7 | 2021-06-21 22:02:46 |       68 |
|       8 |         2 | 1971-02-04 |         3 |       8 |          8 | 2021-06-21 22:02:46 |       84 |
|       9 |         3 | 1972-12-18 |         4 |       9 |          9 | 2021-06-21 22:02:46 |       15 |
|      10 |         1 | 1985-06-10 |         5 |      10 |         10 | 2021-06-21 22:02:46 |       25 |
+---------+-----------+------------+-----------+---------+------------+---------------------+----------+
10 rows in set (0,00 sec)

mysql> UPDATE messages SET
    ->   from_user_id = FLOOR(1 + RAND() * 100),
    ->   to_user_id = FLOOR(1 + RAND() * 100);
Query OK, 100 rows affected (0,01 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> ALTER TABLE media ADD COLUMN user_id BIGINT NOT NULL;
Query OK, 0 rows affected (0,05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> UPDATE media SET user_id = FLOOR(1 + RAND() * 100);
Query OK, 100 rows affected (0,01 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> DELETE FROM media_types;
Query OK, 10 rows affected (0,02 sec)

mysql> INSERT INTO media_types (name) VALUES ('video'),('image'),('audio');
Query OK, 3 rows affected (0,01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> TRUNCATE media_types;
Query OK, 0 rows affected (0,03 sec)

mysql> UPDATE media SET media_type_id = FLOOR(1 + RAND() * 3);
Query OK, 93 rows affected (0,02 sec)
Rows matched: 100  Changed: 93  Warnings: 0

mysql> SELECT * FROM media LIMIT 10;
+----+-----------+--------+-----------+----------+---------------+---------------------+---------------------+---------+
| id | filename  | digest | size      | metadata | media_type_id | created_at          | updated_at          | user_id |
+----+-----------+--------+-----------+----------+---------------+---------------------+---------------------+---------+
|  1 | deserunt  |        |      1627 | NULL     |             3 | 1975-11-25 06:08:53 | 2021-06-21 22:28:53 |      52 |
|  2 | atque     |        |         6 | NULL     |             2 | 2012-08-29 19:57:24 | 2021-06-21 22:21:31 |      56 |
|  3 | ullam     |        | 713517400 | NULL     |             1 | 1989-01-07 04:17:20 | 2021-06-21 22:28:53 |      24 |
|  4 | molestiae |        |  63314933 | NULL     |             2 | 2001-09-01 12:48:52 | 2021-06-21 22:28:53 |      52 |
|  5 | inventore |        |       754 | NULL     |             2 | 1978-01-13 00:20:57 | 2021-06-21 22:28:53 |      89 |
|  6 | tempora   |        |         8 | NULL     |             3 | 1983-11-08 11:17:48 | 2021-06-21 22:28:53 |      89 |
|  7 | illo      |        |   1609765 | NULL     |             2 | 1970-11-04 20:09:00 | 2021-06-21 22:28:53 |      74 |
|  8 | est       |        |         0 | NULL     |             2 | 1987-12-17 02:37:04 | 2021-06-21 22:28:53 |       5 |
|  9 | dolor     |        | 319006668 | NULL     |             1 | 2000-07-19 07:02:18 | 2021-06-21 22:28:53 |       2 |
| 10 | quis      |        |       849 | NULL     |             3 | 2013-02-19 12:37:44 | 2021-06-21 22:28:53 |      95 |
+----+-----------+--------+-----------+----------+---------------+---------------------+---------------------+---------+
10 rows in set (0,00 sec)

mysql> CREATE TEMPORARY TABLE extensions (name VARCHAR(10));
Query OK, 0 rows affected (0,00 sec)

mysql> INSERT INTO extensions VALUES ('jpeg'), ('avi'), ('mpeg'), ('png');
Query OK, 4 rows affected (0,00 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM extensions;
+------+
| name |
+------+
| jpeg |
| avi  |
| mpeg |
| png  |
+------+
4 rows in set (0,00 sec)

mysql> UPDATE media SET filename = CONCAT(
    -> 'http://dropbox.net/vk/',
    ->   filename,
    ->   (SELECT last_name FROM users ORDER BY RAND() LIMIT 1),
    ->   '.',
    ->   (SELECT name FROM extensions ORDER BY RAND() LIMIT 1)
    -> );
Query OK, 100 rows affected (0,02 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> UPDATE media SET size = FLOOR(10000 + (RAND() * 1000000)) WHERE size < 1000;
Query OK, 44 rows affected (0,01 sec)
Rows matched: 44  Changed: 44  Warnings: 0

mysql> UPDATE media SET metadata = CONCAT('{"owner":"',
    ->   (SELECT CONCAT(first_name, ' ', last_name) FROM users WHERE id = user_id),
    ->   '"}');
Query OK, 100 rows affected (0,01 sec)
Rows matched: 100  Changed: 100  Warnings: 0

mysql> ALTER TABLE media MODIFY COLUMN metadata JSON;
Query OK, 0 rows affected (0,01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM media LIMIT 10;
+----+--------------------------------------------+--------+-----------+-----------------------------------+---------------+---------------------+---------------------+---------+
| id | filename                                   | digest | size      | metadata                          | media_type_id | created_at          | updated_at          | user_id |
+----+--------------------------------------------+--------+-----------+-----------------------------------+---------------+---------------------+---------------------+---------+
|  1 | http://dropbox.net/vk/deseruntPaucek.jpeg  |        |      1627 | {"owner": "Jacques Bogisich"}     |             3 | 1975-11-25 06:08:53 | 2021-06-21 22:39:16 |      52 |
|  2 | http://dropbox.net/vk/atqueRunolfsson.png  |        |    571395 | {"owner": "Isabelle Reichert"}    |             2 | 2012-08-29 19:57:24 | 2021-06-21 22:39:16 |      56 |
|  3 | http://dropbox.net/vk/ullamMoore.avi       |        | 713517400 | {"owner": "Violette Beier"}       |             1 | 1989-01-07 04:17:20 | 2021-06-21 22:39:16 |      24 |
|  4 | http://dropbox.net/vk/molestiaeOrtiz.jpeg  |        |  63314933 | {"owner": "Jacques Bogisich"}     |             2 | 2001-09-01 12:48:52 | 2021-06-21 22:39:16 |      52 |
|  5 | http://dropbox.net/vk/inventoreDaniel.mpeg |        |    417852 | {"owner": "Violet Kuhlman"}       |             2 | 1978-01-13 00:20:57 | 2021-06-21 22:39:16 |      89 |
|  6 | http://dropbox.net/vk/temporaKoepp.avi     |        |    365077 | {"owner": "Violet Kuhlman"}       |             3 | 1983-11-08 11:17:48 | 2021-06-21 22:39:16 |      89 |
|  7 | http://dropbox.net/vk/illoBotsford.avi     |        |   1609765 | {"owner": "Cielo Flatley"}        |             2 | 1970-11-04 20:09:00 | 2021-06-21 22:39:16 |      74 |
|  8 | http://dropbox.net/vk/estThompson.png      |        |    561828 | {"owner": "Margaretta Daniel"}    |             2 | 1987-12-17 02:37:04 | 2021-06-21 22:39:16 |       5 |
|  9 | http://dropbox.net/vk/dolorHeathcote.jpeg  |        | 319006668 | {"owner": "Frederique Greenholt"} |             1 | 2000-07-19 07:02:18 | 2021-06-21 22:39:16 |       2 |
| 10 | http://dropbox.net/vk/quisVeum.mpeg        |        |    703912 | {"owner": "Edna Runolfsson"}      |             3 | 2013-02-19 12:37:44 | 2021-06-21 22:39:16 |      95 |
+----+--------------------------------------------+--------+-----------+-----------------------------------+---------------+---------------------+---------------------+---------+
10 rows in set (0,00 sec)

mysql> RENAME TABLE friendship TO friendships;
Query OK, 0 rows affected (0,05 sec)

mysql> UPDATE friendships SET user_id = FLOOR(1 + RAND() * 100),friend_id = FLOOR(1 + RAND() * 100);
Query OK, 0 rows affected (0,03 sec)

mysql> UPDATE friendships SET friend_id = friend_id + 1 WHERE user_id = friend_id;
Query OK, 0 rows affected (0,03 sec)

mysql> DELETE FROM communities WHERE id > 20;
Query OK, 80 rows affected (0,01 sec)

mysql> UPDATE communitie_users SET community_id = FLOOR(1 + RAND() * 19),user_id = FLOOR(1 + RAND() * 100);
Query OK, 80 rows affected (0,03 sec)